<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
<head>
    <title>Test Delight - Home</title>
</head>
<body>
    <div layout:fragment="content">
        <!-- Hero Section -->
        <div class="hero-section text-center py-5 bg-light">
            <div class="container">
                <h1 class="display-4 fw-bold">Welcome to Test  Delight</h1>
                <p class="lead">Experience the finest cuisine in a warm and inviting atmosphere</p>
                <div class="mt-4">
                    <a href="/menu" class="btn btn-primary btn-lg me-3">View Our Menu</a>
                    <a href="/reservations" class="btn btn-outline-secondary btn-lg">Make a Reservation</a>
                </div>
            </div>
        </div>

        <!-- Featured Dishes -->
        <section class="py-5">
            <div class="container">
                <h2 class="text-center mb-5">Our Specialties</h2>
                <div th:if="${not #lists.isEmpty(featuredItems)}" class="row">
                    <div th:each="item : ${featuredItems}" class="col-md-4 mb-4">
                        <div class="card h-100">
                            <img th:src="${item.imageUrl}" class="card-img-top" th:alt="${item.name}" style="height: 200px; object-fit: cover;">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${item.name}"></h5>
                                <p class="card-text" th:text="${item.description}"></p>
                                <p class="h5 text-primary" th:text="'$' + ${#numbers.formatDecimal(item.price, 1, 2)}"></p>
                            </div>
                            <div class="card-footer bg-transparent">
                                <a th:href="@{/menu/item/} + ${item.id}" class="btn btn-outline-primary w-100">View Details</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div th:if="${#lists.isEmpty(featuredItems)}" class="text-center py-5">
                    <div class="alert alert-info">
                        <h4>Featured items coming soon!</h4>
                        <p>Our chefs are preparing some delicious dishes for you. Please check back later.</p>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <a href="/menu" class="btn btn-outline-primary">View Full Menu</a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="py-5 bg-light">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <h2>Our Story</h2>
                        <p class="lead">A culinary journey that began with a passion for great food and exceptional service.</p>
                        <p>At Test  Delight, we believe in using only the finest ingredients to create memorable dining experiences. Our chefs bring years of expertise and creativity to every dish, ensuring that each bite is a delight to the senses.</p>
                        <a href="/about" class="btn btn-outline-secondary">Learn More About Us</a>
                    </div>
                    <div class="col-lg-6 mt-4 mt-lg-0">
                        <img src="/images/restaurant-interior.jpg" alt="Restaurant Interior" class="img-fluid rounded shadow">
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials -->
        <section class="py-5">
            <div class="container">
                <h2 class="text-center mb-5">What Our Guests Say</h2>
                <div th:if="${reviews != null and !reviews.empty}">
                    <div class="row">
                        <div th:each="review : ${reviews}" class="col-md-4 mb-4">
                            <div class="card h-100">
                                <div class="card-body">
                                    <div class="mb-3">
                                        <span th:each="i : ${#numbers.sequence(1, 5)}">
                                            <i th:class="${i <= review.rating ? 'fas fa-star text-warning' : 'far fa-star text-muted'}"></i>
                                        </span>
                                    </div>
                                    <p class="card-text" th:text="'&quot;' + ${review.comment} + '&quot;'"></p>
                                    <footer class="blockquote-footer mt-3">
                                        <span th:text="${review.customerName}"></span>
                                        <span class="text-muted" th:if="${review.datePosted != null}" th:text="' - ' + ${#temporals.format(review.datePosted, 'MMM d, yyyy')}"></span>
                                    </footer>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-4">
                        <a href="/reviews" class="btn btn-outline-primary me-2">Read All Reviews</a>
                        <a href="/reviews/submit" class="btn btn-primary">Write a Review</a>
                    </div>
                </div>
                <div th:unless="${reviews != null and !reviews.empty}" class="text-center">
                    <p class="text-muted">No reviews yet. Be the first to leave a review!</p>
                    <a href="/reviews/submit" class="btn btn-primary">Write a Review</a>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="py-5 bg-primary text-white">
            <div class="container text-center">
                <h2>Ready to Experience Test  Dining?</h2>
                <p class="lead mb-4">Join us for an unforgettable culinary journey</p>
                <a href="/reservations" class="btn btn-light btn-lg me-3">Make a Reservation</a>
                <a href="/contact" class="btn btn-outline-light btn-lg">Contact Us</a>
            </div>
        </section>
    </div>

    <th:block layout:fragment="scripts">
        <script>
            // Auto-dismiss alerts after 5 seconds
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(function() {
                    const alerts = document.querySelectorAll('.alert');
                    alerts.forEach(function(alert) {
                        const bsAlert = new bootstrap.Alert(alert);
                        bsAlert.close();
                    });
                }, 5000);
            });
        </script>
    </th:block>
</body>
</html>
